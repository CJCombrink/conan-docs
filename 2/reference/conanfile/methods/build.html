



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>build() &mdash; conan 2.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  


  
    <link rel="stylesheet" href="../../../_static/css/signup.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/_static/graphviz.css" type="text/css" />
  

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../../../_static/css/search.css" type="text/css" />
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="conan 2.0.0 documentation" href="../../../index.html"/>
        <link rel="up" title="Methods" href="../methods.html"/>
        <link rel="next" title="build_id()" href="build_id.html"/>
        <link rel="prev" title="Methods" href="../methods.html"/>

 <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
 



</script>


  

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/logo_docs_v2.png" class="logo" />
          
          </a>

            

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whatsnew.html">What’s new in Conan 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../commands.html">Commands</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../conanfile.html">conanfile.py</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../attributes.html">Attributes</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../methods.html">Methods</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">build()</a></li>
<li class="toctree-l4"><a class="reference internal" href="build_id.html">build_id()</a></li>
<li class="toctree-l4"><a class="reference internal" href="build_requirements.html">build_requirements()</a></li>
<li class="toctree-l4"><a class="reference internal" href="compatibility.html">compatibility()</a></li>
<li class="toctree-l4"><a class="reference internal" href="configure.html">configure()</a></li>
<li class="toctree-l4"><a class="reference internal" href="config_options.html">config_options()</a></li>
<li class="toctree-l4"><a class="reference internal" href="export.html">export()</a></li>
<li class="toctree-l4"><a class="reference internal" href="export_sources.html">export_sources()</a></li>
<li class="toctree-l4"><a class="reference internal" href="generate.html">generate()</a></li>
<li class="toctree-l4"><a class="reference internal" href="init.html">init()</a></li>
<li class="toctree-l4"><a class="reference internal" href="layout.html">layout()</a></li>
<li class="toctree-l4"><a class="reference internal" href="package.html">package()</a></li>
<li class="toctree-l4"><a class="reference internal" href="package_id.html">package_id()</a></li>
<li class="toctree-l4"><a class="reference internal" href="package_info.html">package_info()</a></li>
<li class="toctree-l4"><a class="reference internal" href="requirements.html">requirements()</a></li>
<li class="toctree-l4"><a class="reference internal" href="set_name.html">set_name()</a></li>
<li class="toctree-l4"><a class="reference internal" href="set_version.html">set_version()</a></li>
<li class="toctree-l4"><a class="reference internal" href="source.html">source()</a></li>
<li class="toctree-l4"><a class="reference internal" href="system_requirements.html">system_requirements()</a></li>
<li class="toctree-l4"><a class="reference internal" href="test.html">test()</a></li>
<li class="toctree-l4"><a class="reference internal" href="validate.html">validate()</a></li>
<li class="toctree-l4"><a class="reference internal" href="validate_build.html">validate_build()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile_txt.html">conanfile.txt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools.html">Recipe tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config_files.html">Configuration files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment.html">Environment variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../knowledge.html">Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
</ul>

            
          
          <div class="dark_newsletter-div">
             <p><a href="https://conan.io/#signUp" target="_blank">Sign up for release updates</a></p>
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
        
      </nav>


      
      <script>
        var reldir = "../../../index.html".replace("index.html","").replace("#", "");
      </script>
      <div class="wy-nav-content">
        <div class="rst-content">
                 
          















<div role="navigation" aria-label="breadcrumbs navigation" id="breadcrumbs">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../reference.html">Reference</a> &raquo;</li>
        
          <li><a href="../../conanfile.html">conanfile.py</a> &raquo;</li>
        
          <li><a href="../methods.html">Methods</a> &raquo;</li>
        
      <li>build()</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conan-io/docs/blob/develop2/reference/conanfile/methods/build.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
</div>
          <!--<select id="search" name="state" multiple="true" onchange="window.location = reldir + this.value;" style="width:90%"></select>
          <hr/>-->
          <!--<div class="admonition important">
            <p class="admonition-title">Announcement</p>
            <p>Recipe Hacking no. 2! Building on what we learnt during the first installment we will be working on more Conan 2.0 Migration! We'll start by reviewing some open pull requests and hopefully tackle a CMake example. <a
            href=https://jfrog.zoom.us/webinar/register/WN_grFhqH0yRBeIfJmBvQoPJw> Register here to attend.</a></p>
          </div>-->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="build">
<span id="reference-conanfile-methods-build"></span><h1>build()<a class="headerlink" href="#build" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">build()</span></code> method is used to define the build from source of the package. In practice this means calling some build system, which could be done explicitly or using any of the build helpers provided by Conan:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conan.tools.cmake</span> <span class="kn">import</span> <span class="n">CMake</span>

<span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Either using some of the Conan built-in helpers</span>
        <span class="n">cmake</span> <span class="o">=</span> <span class="n">CMake</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">cmake</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span>  <span class="c1"># equivalent to self.run(&quot;cmake . &lt;other args&gt;&quot;)</span>
        <span class="n">cmake</span><span class="o">.</span><span class="n">build</span><span class="p">()</span> <span class="c1"># equivalent to self.run(&quot;cmake --build . &lt;other args&gt;&quot;)</span>
        <span class="n">cmake</span><span class="o">.</span><span class="n">test</span><span class="p">()</span>  <span class="c1"># equivalent to self.run(&quot;cmake --target=RUN_TESTS&quot;)</span>

        <span class="c1"># Or it could run your own build system or scripts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;mybuildsystem . --configure&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;mybuildsystem . --build&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about the existing built-in build system integrations, visit <a class="reference internal" href="../../tools.html#conan-tools"><span class="std std-ref">Recipe tools</span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">build()</span></code> method should be as simple as possible, just wrapping the command line invocations
that a developer would do in the simplest possible way. The <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method is the one responsible
for preparing the build, creating toolchain files, CMake presets, or any other files which are necessary
so developers could easily call the build system by hand. This allows for much better integrations with IDEs and
improves the developer experience. The result is that in practice the <code class="docutils literal notranslate"><span class="pre">build()</span></code> method should be relatively simple.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">build()</span></code> method is the right place to build and run unit tests, before packaging, and raising errors if those tests fail, interrupting the process, and not even packaging the final binaries.
The built-in helpers will skip the unit tests if the <code class="docutils literal notranslate"><span class="pre">tools.build:skip_test</span></code> configuration is defined. For custom integrations, it is expected that the method checks this <code class="docutils literal notranslate"><span class="pre">conf</span></code> value in order to skip building and running tests, which can be useful for some CI scenarios.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">build()</span></code> method runs once per unique configuration, so if there are some source operations like applying patches that are done conditionally to different configurations, they could be also applied in the
<code class="docutils literal notranslate"><span class="pre">build()</span></code> method, before the actual build. It is important to note that in this case the <code class="docutils literal notranslate"><span class="pre">no_copy_source</span></code> attribute cannot be set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Best practices</strong></p>
<ul class="last simple">
<li>The <code class="docutils literal notranslate"><span class="pre">build()</span></code> method should be as simple as possible, the heavy lifting of preparing the build should happen in the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method in order to achieve a good developer experience that can easily build locally with just <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span> <span class="pre">.</span></code>, plus directly calling the build system or opening their IDE.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Follow the <a class="reference internal" href="../../../tutorial/creating_packages/build_packages.html#tutorial-creating-build"><span class="std std-ref">tutorial about building packages</span></a> for more information about building from sources.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="build_id.html" class="btn btn-neutral float-right" title="build_id()" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../methods.html" class="btn btn-neutral" title="Methods" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2023, JFrog.
      Last updated on Feb 27, 2023.
      <span><a href="#" class="ot-sdk-show-settings">Cookies Settings</a></span>
    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <!--<span class="fa fa-pencil-square-o"> Other versions:</span> -->
      Version: 2.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
            <dd><a href="/2.0/index.html">2.0</a></dd>
        
            <dd><a href="/en/1.59/index.html">1.59</a></dd>
        
            <dd><a href="/en/1.58/index.html">1.58</a></dd>
        
            <dd><a href="/en/1.57/index.html">1.57</a></dd>
        
            <dd><a href="/en/1.56/index.html">1.56</a></dd>
        
            <dd><a href="/en/1.55/index.html">1.55</a></dd>
        
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
        
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
        
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
        
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
        
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
        
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
        
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
        
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
        
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
        
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
        
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
        
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
        
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
        
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
        
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
        
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
        
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
        
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
        
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
        
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
        
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
        
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
        
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
        
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
        
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
        
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
        
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
        
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
        
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
        
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
        
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
        
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
        
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
        
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
        
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
        
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
        
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
        
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
        
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
        
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
        
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
        
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
        
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
        
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
        
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
        
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
        
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
        
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
        
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
        
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
        
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
        
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
        
            <dd><a href="/1/index.html">1</a></dd>
        
            <dd><a href="/2/index.html">2</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
            <dd><a href="/2.0/conan.pdf">PDF</a></dd> 
               
      </dl>
    </div>
  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'2.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script src="../../../_static/js/modernizr.min.js"></script>
  <script src="../../../_static/js/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
-->
  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  


  <script>
    // initSearch("2.0");
  </script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>